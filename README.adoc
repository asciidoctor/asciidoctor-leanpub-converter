= Asciidoctor Leanpub Converter

Very early stages to showing a converter written in Groovy using the experimental
asciidoctorj-1.6.0 branch


== Building

```
git clone https://github.com/asciidoctor/asciidoctorj.git -b asciidoctorj-1.6.0
cd asciidoctorj
vi gradle.properties
```

Change the version to `1.6.0-SNAPSHOT`. It is still set as `1.5.3-SNAPSHOT`, but let's avoid confusion with another
`asciidoctorj` development branch. Save your change, then do

```
cd asciidoctorj-core
../gradlew -i build publishToMavenLocal
```

Now you are ready to clone and build this

```
cd ../../
git clone https://github.com/ysb33r/asciidoctor-leanpub-converter.git
cd asciidoctor-leanpub-converter/core
./gradlew build install
```

== Parts & Chapters

Level 0 heading becomes a Leanpub part and creates a new part file

```
= This becomes a part
```

Level 1 heading becomes a Leanpub chapter. In addition if it is annotated with `[chapter]` it creates a new chapter file.
At least one level 1 heading should be annotated with `[chapter]`.
When writing a multi-part book, ensure that level 1 headings that follow a level 0, are annotated wth '
`[chapter]`, otherwise they will disappear from the Leanpub output.


```
[chapter]
== This becomes a chapter
```

Level 1 heading annotated with `[preface]` becomes a Leanpub preface

```
[preface]
== This is a preface
```

== Blocks

Poetry blocks are supported by adding a `poem` role to a verse block

```
[verse.poem]
....
Poem goes here
....
```

== Cover page

Use `:front-cover-page: image:NameOfImage.png[]` to add a Leanpub cover. Currently no size checking is done, but a
PNG extension is required. See https://leanpub.com/help/manual#leanpub-auto-how-to-insert-cover-images--cover-pages(Leanpub docs)
for more detail on size requirements.

